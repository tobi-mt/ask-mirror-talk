# Railway + Neon Environment Configuration
# These variables should be set in Railway's dashboard under "Variables" tab

# Core Settings
APP_NAME=Ask Mirror Talk
ENVIRONMENT=production

# Database - Neon Serverless Postgres
# Replace with your actual Neon connection string
# Format: postgresql+psycopg://user:password@host/database?sslmode=require
DATABASE_URL=postgresql+psycopg://neondb_owner:npg_XXXX@ep-xxxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# RSS Feed - Your podcast RSS feed
RSS_URL=https://anchor.fm/s/261b1464/podcast/rss
RSS_POLL_MINUTES=60

# Ingestion Settings
MAX_EPISODES_PER_RUN=10  # Railway has better resources than Render

# Embedding Configuration
# Use 'local' for hash-based embeddings (low memory, fast)
# Use 'sentence_transformers' for ML-based embeddings (better quality, more memory)
EMBEDDING_PROVIDER=local
EMBEDDING_DIM=384

# Transcription Configuration
TRANSCRIPTION_PROVIDER=faster_whisper
WHISPER_MODEL=base  # Options: tiny, base, small, medium, large

# Retrieval Settings
TOP_K=6  # Number of chunks to retrieve
MIN_SIMILARITY=0.15  # Minimum similarity threshold

# Chunking Settings
MAX_CHUNK_CHARS=1400
MIN_CHUNK_CHARS=300

# API Settings
RATE_LIMIT_PER_MINUTE=20

# CORS - Add your WordPress site domains
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=https://mirrortalkpodcast.com,https://www.mirrortalkpodcast.com

# Admin Dashboard
ADMIN_ENABLED=true
ADMIN_USER=tobi
ADMIN_PASSWORD=@GoingPlaces#2026
ADMIN_IP_ALLOWLIST=  # Optional: comma-separated IPs/CIDRs for admin access

# Storage (Railway has persistent storage)
DATA_DIR=/app/data
AUDIO_DIR=/app/data/audio
TRANSCRIPT_DIR=/app/data/transcripts
