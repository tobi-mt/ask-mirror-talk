# Railway deployment configuration
# This file is automatically detected by Railway

# Default Dockerfile for API service (lightweight)
# Override in Railway Dashboard for ingestion service to use Dockerfile.worker

[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile.api"

[deploy]
# Configure per-service in Railway Dashboard:
#
# mirror-talk-api service (uses this default):
#   Settings > Deploy > Healthcheck: Enable, path=/health, timeout=300
#   Settings > Deploy > Start Command: (leave default - uses CMD from Dockerfile)
#
# mirror-talk-ingestion service (override Dockerfile in Dashboard):
#   Settings > Build > Docker > Dockerfile Path: Dockerfile.worker
#   Settings > Deploy > Healthcheck: Disable
#   Settings > Deploy > Start Command: python scripts/bulk_ingest.py --max-episodes 20 --no-confirm
#   Settings > Variables > WHISPER_MODEL: tiny
